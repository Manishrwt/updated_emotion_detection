schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 0a4e1b89f6c752c215b7b32cafb31662
      size: 4301
    params:
      params.yaml:
        data_ingestion.test_size: 0.3
    outs:
    - path: data/raw/test.csv
      hash: md5
      md5: bb46ab0fd61d60247acc84cf74496454
      size: 245361
    - path: data/raw/train.csv
      hash: md5
      md5: 7f78dfb25688160ec2c3c0e294cb2f62
      size: 572236
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: bb46ab0fd61d60247acc84cf74496454
      size: 245361
    - path: data/raw/train.csv
      hash: md5
      md5: 7f78dfb25688160ec2c3c0e294cb2f62
      size: 572236
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 4926076ef6716c7550044eb79115f4c3
      size: 4328
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: beb83e69f574b9c4cea375d97b47b76a
      size: 166878
    - path: data/processed/train.csv
      hash: md5
      md5: 3f66f9a7c240b7b08d0b8cab8e1ccf41
      size: 388956
  feature_engineering:
    cmd: python src/features/feature_eng.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: beb83e69f574b9c4cea375d97b47b76a
      size: 166878
    - path: data/processed/train.csv
      hash: md5
      md5: 3f66f9a7c240b7b08d0b8cab8e1ccf41
      size: 388956
    - path: src/features/feature_eng.py
      hash: md5
      md5: 54af6658650ce73b89339cea29985dd6
      size: 4259
    params:
      params.yaml:
        feature_engineering.max_features: 1500
    outs:
    - path: data/interim/test_bow.csv
      hash: md5
      md5: 14c96938f9c8b06b28f27627ddd4a911
      size: 9351622
    - path: data/interim/train_bow.csv
      hash: md5
      md5: dd26f8f0624a9b747efc9b1bc2dc888f
      size: 21803918
  model_training:
    cmd: python src/models/model_training.py
    deps:
    - path: data/interim/train_bow.csv
      hash: md5
      md5: dd26f8f0624a9b747efc9b1bc2dc888f
      size: 21803918
    - path: src/models/model_training.py
      hash: md5
      md5: b6eb5a15f45796e9ffd83ebf409f242d
      size: 3268
    params:
      params.yaml:
        model_training.max_depth: 10
        model_training.n_estimators: 80
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: c6c3d586c06b62e275d8f98745a7ed6a
      size: 753207
  model_evaluation:
    cmd: python src/models/model_evaluation.py
    deps:
    - path: data/interim/test_bow.csv
      hash: md5
      md5: 14c96938f9c8b06b28f27627ddd4a911
      size: 9351622
    - path: models/random_forest_model.pkl
      hash: md5
      md5: c6c3d586c06b62e275d8f98745a7ed6a
      size: 753207
    - path: src/models/model_evaluation.py
      hash: md5
      md5: f252fa449357ee2a8d8f926304932fab
      size: 3310
    outs:
    - path: reports/metrics.json
      hash: md5
      md5: 06288e41a2ff6ebc8766fa0bb98a52f6
      size: 144
